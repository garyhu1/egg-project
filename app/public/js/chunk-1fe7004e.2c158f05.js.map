{"version":3,"sources":["webpack:///./src/views/MyMap.vue?6d52","webpack:///src/views/MyMap.vue","webpack:///./src/views/MyMap.vue?57ba","webpack:///./src/views/MyMap.vue","webpack:///./src/views/MyMap.vue?61a0"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticRenderFns","MyMapvue_type_script_lang_js_","data","map","mounted","init","methods","mbgl","Map","container","style","center","zoom","bearing","showCompassAndZoom","showUserLocation","showScaleControl","addMarkerToMap","load3D","setCenter","addLayer","type","source","paint","fill-extrusion-color","fill-extrusion-height","fill-extrusion-base","fill-extrusion-opacity","listenResize","on","e","console","log","nav","NavigationControl","addControl","GeolocateControl","positionOptions","enableHighAccuracy","trackUserLocation","scale","ScaleControl","maxWidth","unit","setUnit","el","document","createElement","className","backgroundImage","width","height","borderRadius","Marker","setLngLat","setOffset","addTo","views_MyMapvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MyMap_vue_vue_type_style_index_0_id_5d140477_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MyMap_vue_vue_type_style_index_0_id_5d140477_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"yHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,MAAA,CAAOC,GAAA,UACjHC,EAAA,GCIAC,EAAA,CACAC,KADA,WAEA,OACAC,IAAA,OAGAC,QANA,WAOAX,KAAAY,QAEAC,QAAA,CACAD,KADA,WAEAZ,KAAAU,IAAA,IAAAV,KAAAc,KAAAC,IAAA,CACAC,UAAA,MACAC,MAAA,4DACAC,OAAA,qBAEAC,KAAA,GAEAC,QAAA,IAEApB,KAAAqB,qBACArB,KAAAsB,mBACAtB,KAAAuB,mBACAvB,KAAAwB,kBAYAC,OA1BA,WA2BAzB,KAAAU,IAAAgB,UAAA,sBACA1B,KAAAU,IAAAiB,SAAA,CACArB,GAAA,iBACAsB,KAAA,iBACAC,OAAA,CACAD,KAAA,UACAnB,KAAA,qEAEAqB,MAAA,CACAC,uBAAA,gBACAC,wBAAA,iBACAC,sBAAA,sBACAC,yBAAA,OAQAC,aA/CA,WAgDAnC,KAAAU,IAAA0B,GAAA,gBAAAC,GACAC,QAAAC,IAAAF,MAOAhB,mBAxDA,WAyDA,IAAAmB,EAAA,IAAAxC,KAAAc,KAAA2B,kBACAzC,KAAAU,IAAAgC,WAAAF,EAAA,aAMAlB,iBAhEA,WAkEAtB,KAAAU,IAAAgC,WAAA,IAAA1C,KAAAc,KAAA6B,iBAAA,CACAC,gBAAA,CACAC,oBAAA,GAEAC,mBAAA,MAOAvB,iBA7EA,WA8EA,IAAAwB,EAAA,IAAA/C,KAAAc,KAAAkC,aAAA,CACAC,SAAA,GACAC,KAAA,aAEAlD,KAAAU,IAAAgC,WAAAK,GAEAA,EAAAI,QAAA,WAMA3B,eA1FA,WA2FA,IAAA4B,EAAAC,SAAAC,cAAA,OACAF,EAAAG,UAAA,YACAH,EAAAnC,MAAAuC,gBAAA,uCACAJ,EAAAnC,MAAAwC,MAAA,OACAL,EAAAnC,MAAAyC,OAAA,OACAN,EAAAnC,MAAA0C,aAAA,OACA,IAAA3D,KAAAc,KAAA8C,OAAAR,GACAS,UAAA,sBACAC,UAAA,SACAC,MAAA/D,KAAAU,QClH+UsD,EAAA,0BCQ/UC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACAlE,EACAS,GACF,EACA,KACA,WACA,MAIe6D,EAAA,WAAAH,sECnBf,IAAAI,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAieE,EAAG","file":"public/js/chunk-1fe7004e.2c158f05.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"map\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div id=\"map\"></div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            map: null,        // 地图实例\n        }\n    },\n    mounted() {\n        this.init();\n    },\n    methods: {\n        init(){\n            this.map = new this.mbgl.Map({\n                container: 'map',\n                style: 'https://testriab.luokuang.com/view/map/lk_map_online.json',\n                center: [116.39074, 39.91672],\n                // center: [-87.61694, 41.86625],\n                zoom: 16,\n                // pitch: 40,\n                bearing: 1\n            })\n            this.showCompassAndZoom();\n            this.showUserLocation();\n            this.showScaleControl();\n            this.addMarkerToMap();\n            // this.map.on('load', () => {\n            //     // this.load3D();\n            //     this.showCompassAndZoom();\n            // })\n\n            // this.listenResize();\n        },\n\n        /**\n         * 加载3D模型\n         */\n        load3D() {\n            this.map.setCenter([-87.61694, 41.86625])\n            this.map.addLayer({\n                'id': 'room-extrusion',\n                'type': 'fill-extrusion',\n                'source': {\n                    'type': 'geojson',\n                    'data': 'https://docs.mapbox.com/mapbox-gl-js/assets/indoor-3d-map.geojson'\n                },\n                'paint': {\n                    'fill-extrusion-color': ['get', 'color'],\n                    'fill-extrusion-height': ['get', 'height'],\n                    'fill-extrusion-base': ['get', 'base_height'],\n                    'fill-extrusion-opacity': 0.6\n                }\n            })\n        },\n\n        /**\n         * 监听地图zoom的变化\n         */\n        listenResize() {\n            this.map.on(\"drag\", (e) => {\n                console.log(e);\n            })\n        },\n\n        /**\n         * 显示缩放按钮和罗盘\n         */\n        showCompassAndZoom() {\n            let nav = new this.mbgl.NavigationControl();\n            this.map.addControl(nav,'top-left');\n        },\n\n        /**\n         * 显示用户定位图标\n         */\n        showUserLocation() {\n            // Add geolocate control to the map.\n            this.map.addControl(new this.mbgl.GeolocateControl({\n                positionOptions: {\n                    enableHighAccuracy: true\n                },\n                trackUserLocation: true\n            }));\n        },\n\n        /**\n         * 显示比例尺\n         */\n        showScaleControl() {\n            let scale = new this.mbgl.ScaleControl({\n                maxWidth: 80,\n                unit: 'imperial'\n            });\n            this.map.addControl(scale);\n\n            scale.setUnit('metric');\n        },\n\n        /**\n         * 添加Marker\n         */\n        addMarkerToMap(){\n            let el = document.createElement(\"div\");\n            el.className = \"my_marker\";\n            el.style.backgroundImage = \"url(http://placekitten.com/g/60/60/)\";\n            el.style.width = \"60px\";\n            el.style.height = \"60px\";\n            el.style.borderRadius = \"30px\";\n            let marker = new this.mbgl.Marker(el)\n                .setLngLat([116.39074, 39.91672])\n                .setOffset([0,-30])\n                .addTo(this.map)\n        }\n    }\n}\n</script>\n\n<style scoped>\n@import url('https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.2/mapbox-gl.css');\n#map {\n  position: absolute;\n  left: 0;\n  top: 0;\n  text-align: left;\n  width: 100%;\n  height: 100%;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyMap.vue?vue&type=template&id=5d140477&scoped=true&\"\nimport script from \"./MyMap.vue?vue&type=script&lang=js&\"\nexport * from \"./MyMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MyMap.vue?vue&type=style&index=0&id=5d140477&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d140477\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyMap.vue?vue&type=style&index=0&id=5d140477&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyMap.vue?vue&type=style&index=0&id=5d140477&scoped=true&lang=css&\""],"sourceRoot":""}